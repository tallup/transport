@tailwind base;
@tailwind components;
@tailwind utilities;

/* Glassmorphism Design System */
@layer utilities {
    /* Base glass effect */
    .glass {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 0.75rem; /* 12px - rounded-xl */
        box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
    }

    /* Glass card variant */
    .glass-card {
        position: relative;
        background: rgba(255, 255, 255, 0.15);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.25);
        border-radius: 0.75rem; /* 12px - rounded-xl */
        box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
        transition: all 0.3s ease;
        /* Ensure text stays crisp during transforms */
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        text-rendering: optimizeLegibility;
        backface-visibility: hidden;
        transform: translateZ(0); /* Force GPU acceleration */
        overflow: hidden; /* Ensure logo background stays within card bounds */
    }

    /* Logo background for glass cards */
    .glass-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image: url('/on time.jpeg');
        background-size: 35% auto;
        background-position: center center;
        background-repeat: no-repeat;
        opacity: 0.08;
        z-index: 0;
        pointer-events: none;
        border-radius: 0.75rem; /* Match card border radius */
    }

    /* Ensure card content stays above logo background */
    .glass-card > * {
        position: relative;
        z-index: 1;
    }

    .glass-card:hover {
        background: rgba(255, 255, 255, 0.2);
        box-shadow: 0 12px 40px 0 rgba(31, 38, 135, 0.5);
        /* Use translate3d for better GPU acceleration and less blur */
        transform: translate3d(0, -2px, 0);
    }

    .glass-card:hover::before {
        opacity: 0.08; /* Keep same transparency on hover */
    }

    /* Glass navigation variant */
    .glass-nav {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        border-bottom: 1px solid rgba(255, 255, 255, 0.3);
        border-radius: 0; /* Navigation bar doesn't need border radius */
        box-shadow: 0 4px 16px 0 rgba(31, 38, 135, 0.2);
    }

    /* Glass modal variant */
    .glass-modal {
        background: rgba(255, 255, 255, 0.25);
        backdrop-filter: blur(16px);
        -webkit-backdrop-filter: blur(16px);
        border: 1px solid rgba(255, 255, 255, 0.3);
        border-radius: 1rem; /* 16px - rounded-2xl */
        box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.5);
    }

    /* Glass input */
    .glass-input {
        background: rgba(255, 255, 255, 0.2);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.3);
        border-radius: 0.5rem; /* 8px - rounded-lg */
        transition: all 0.3s ease;
    }

    .glass-input:focus {
        background: rgba(255, 255, 255, 0.3);
        border-color: rgba(34, 48, 77, 0.5);
        outline: none;
        box-shadow: 0 0 0 3px rgba(34, 48, 77, 0.1);
        border-radius: 0.5rem; /* Maintain border radius on focus */
    }

    /* Glass button */
    .glass-button {
        background: rgba(34, 48, 77, 0.8);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.3);
        border-radius: 0.5rem; /* 8px - rounded-lg */
        box-shadow: 0 4px 16px 0 rgba(34, 48, 77, 0.3);
        transition: all 0.3s ease;
    }

    .glass-button:hover {
        background: rgba(42, 58, 92, 0.9);
        box-shadow: 0 6px 20px 0 rgba(34, 48, 77, 0.4);
        /* Use translate3d for better GPU acceleration and less blur */
        transform: translate3d(0, -1px, 0);
        border-radius: 0.5rem; /* Maintain border radius on hover */
    }

    /* Glass checkbox */
    .glass-checkbox {
        border-radius: 0.25rem; /* 4px - rounded */
    }

    /* Glass cancel/secondary button */
    .glass-button-secondary {
        background: rgba(255, 255, 255, 0.2);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.3);
        border-radius: 0.5rem; /* 8px - rounded-lg */
        transition: all 0.3s ease;
    }

    .glass-button-secondary:hover {
        background: rgba(255, 255, 255, 0.3);
        border-radius: 0.5rem; /* Maintain border radius on hover */
    }

    /* Ensure textareas with glass-input get border radius */
    textarea.glass-input {
        border-radius: 0.5rem; /* 8px - rounded-lg */
    }

    /* Ensure select elements with glass-input get border radius */
    select.glass-input {
        border-radius: 0.5rem; /* 8px - rounded-lg */
    }

    /* Solid color backgrounds - Logo brand colors */
    .bg-gradient-primary {
        background: #22304d;
    }

    .bg-gradient-secondary {
        background: #1a2a47;
    }

    .bg-gradient-glass {
        background: rgba(34, 48, 77, 0.1);
    }
}

/* Mobile Menu Animations */
@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

@keyframes slideInLeft {
    from {
        transform: translateX(-100%);
    }
    to {
        transform: translateX(0);
    }
}

/* Mobile Menu Improvements */
@media (max-width: 640px) {
    /* Ensure mobile menu has proper touch targets */
    .mobile-menu-item {
        min-height: 44px;
        display: flex;
        align-items: center;
    }
    
    /* Prevent body scroll when menu is open */
    body.menu-open {
        overflow: hidden;
        position: fixed;
        width: 100%;
    }
}

/* Global body background with solid color - Logo brand color - only for pages without specific backgrounds */
body {
    background: #22304d;
    background-attachment: fixed;
    min-height: 100vh;
}

/* Layouts with explicit backgrounds will override body background */

/* Logo Background Pattern */
.logo-background {
    position: relative;
    background: #22304d;
    min-height: 100vh;
    overflow-x: hidden;
}

.logo-background::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: url('/on time.jpeg');
    background-size: 70% auto;
    background-position: center center;
    background-repeat: no-repeat;
    background-attachment: fixed;
    opacity: 0.08;
    z-index: 0;
    pointer-events: none;
}

.logo-background::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(34, 48, 77, 0.75);
    z-index: 0;
    pointer-events: none;
}

.logo-background > * {
    position: relative;
    z-index: 1;
}

/* Smooth transitions for all interactive elements */
* {
    transition-property: background-color, border-color, color, fill, stroke, opacity, box-shadow, transform;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 150ms;
}
